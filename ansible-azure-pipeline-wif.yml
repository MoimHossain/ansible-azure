trigger:
- main  # Change this to your branch name

jobs:
- job: RunAnsibleInContainer
  displayName: "Run Ansible Playbook in Container"
  pool:
    vmImage: ubuntu-latest  # Uses a Microsoft-hosted agent

  container:
    image: ansible/ansible-runner:latest
    options: --user root  # Ensure we can install dependencies if needed

  steps:
  - checkout: self  # Ensures the repo is checked out inside the container

  - script: |
      ansible --version      
    displayName: "Run Ansible Playbook"
